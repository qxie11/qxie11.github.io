{"version":3,"sources":["images/arrow.png","components/CryptoArea/Loading/styles.module.scss","components/CryptoArea/style.module.scss","components/CryptoArea/Coin/style.module.scss","types/action-strings.ts","constans/index.ts","store.ts","actions/actionCreator.ts","components/CryptoArea/Coin/index.tsx","components/CryptoArea/TopBar/index.tsx","components/Calculator/index.tsx","components/CryptoArea/Loading/index.tsx","components/CryptoArea/index.tsx","App.js","reducers/cryptoArea.ts","reducers/index.ts","index.tsx","components/CryptoArea/TopBar/style.module.scss","components/Calculator/style.module.scss"],"names":["module","exports","CryptoAreaTypes","preloadedState","setData","data","type","SET_DATA","payload","loadCryptoData","dispatch","a","params","headers","authorization","fetch","response","json","cryptoData","Data","map","item","CoinInfo","Name","ImageUrl","FullName","name","imgUrl","price","DISPLAY","USD","PRICE","fullname","Coin","coinInfo","className","styles","coin","style","background","backgroundSize","backgroundPosition","coin__img","coin__name","coin__fullname","coin__price","TopBar","useState","isSorted","setSorted","topbar","topbar__name","topbar__fullname","topbar__price","onClick","sort","b","priceA","substring","replace","priceB","sortedData","sorted","src","Arrow","alt","Calculator","select1","useRef","select2","result","setResult","updateCount","select1Price","select2Price","newResult","select1Value","current","options","selectedIndex","value","select2Value","toFixed","usdPrice","filter","useEffect","calculator","calculator__display","calculator__select1","onChange","ref","key","calculator__select2","loading","connect","cryptoArea","bindActionCreators","React","memo","updateCrypto","setInterval","clearInterval","area","Loading","App","initialState","state","rootReducer","combineReducers","composeEnhancers","compose","store","createStore","applyMiddleware","thunk","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.d9c58d57.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABmJLR0QA/wD/AP+gvaeTAAAAVklEQVRIie3RsQmAUAxF0YNgK7iDa7ifg1i5iVv8QYRvK9omhZALqQLvkjyKoojkwJwp6GhYMwUdFzaM70X0nFiGrHMeovDAz4siBU1iyTumrPCi+DM352Ali+fN16QAAAAASUVORK5CYII=\"","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loading\":\"styles_loading__3-9t8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"area\":\"style_area__tNnF2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"coin\":\"style_coin__1eaU9\",\"coin__img\":\"style_coin__img__1qr95\",\"coin__name\":\"style_coin__name__2vfJM\",\"coin__fullname\":\"style_coin__fullname__2pQTi\",\"coin__price\":\"style_coin__price__otJ6V\"};","export enum CryptoAreaTypes {\r\n    SET_DATA = \"CRYPTO_AREA/SET_DATA\",\r\n}","export const REQUEST_KEY: string = '6a74968c76cf49d6bfd1df3ad5559b6e9395e252afe44432e4a4c34464d30fae';","import { createStore, compose, applyMiddleware } from 'redux';\r\nimport rootReducer, { RootState } from './reducers';\r\nimport thunk, { ThunkMiddleware } from \"redux-thunk\";\r\nimport { AppActionType } from './types/types';\r\n\r\n/* eslint-disable no-underscore-dangle */\r\nconst composeEnhancers =\r\n  process.env.NODE_ENV !== 'production' &&\r\n    typeof window === 'object' &&\r\n    (window as any).__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ ?\r\n    (window as any).__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}) : compose;\r\n/* eslint-enable */\r\n\r\nconst configureStore = (preloadedState: any) => (\r\n  createStore(\r\n    rootReducer,\r\n    preloadedState,\r\n    composeEnhancers(\r\n      applyMiddleware(thunk as ThunkMiddleware<RootState, AppActionType>)\r\n    ),\r\n  )\r\n);\r\n\r\nconst store = configureStore({});\r\n\r\nexport default store;\r\n","import { CryptoAreaTypes } from '../types/action-strings';\r\nimport { CryptoAreaActionTypes } from '../types/types';\r\nimport { Dispatch } from 'redux';\r\nimport { REQUEST_KEY } from '../constans/';\r\nimport { IData } from '../types/types';\r\n\r\nexport const setData = (data: IData[] | null): CryptoAreaActionTypes => ({\r\n  type: CryptoAreaTypes.SET_DATA,\r\n  payload: data\r\n});\r\n\r\nexport const loadCryptoData = () => async (dispatch: Dispatch<CryptoAreaActionTypes>) => {\r\n  const params: RequestInit = {\r\n    headers: {\r\n      authorization: REQUEST_KEY\r\n    }\r\n  }\r\n\r\n  const response: Response = await fetch('https://min-api.cryptocompare.com/data/top/totalvolfull?limit=10&tsym=USD', params);\r\n  const data: any = await response.json();\r\n  const cryptoData: IData[] = data.Data.map((item: any) => {\r\n    const { Name, ImageUrl, FullName } = item.CoinInfo;\r\n    const { PRICE } = item.DISPLAY.USD;\r\n\r\n    return {\r\n      name: Name,\r\n      imgUrl: \"https://cryptocompare.com\" + ImageUrl,\r\n      price: PRICE,\r\n      fullname: FullName\r\n    } as IData;\r\n  })\r\n  dispatch(setData(cryptoData))\r\n}","import React from 'react';\r\nimport { IData } from './../../../types/types';\r\nimport styles from \"./style.module.scss\";\r\n\r\ntype Props = {\r\n  coinInfo: IData\r\n}\r\n\r\nconst Coin: React.FC<Props> = ({ coinInfo: { imgUrl, price, name, fullname } }) => {\r\n  return (\r\n    <div className={styles.coin}>\r\n      <div style={{\r\n        background: `url('${imgUrl}')`,\r\n        backgroundSize: 'cover',\r\n        backgroundPosition: 'center center'\r\n      }} className={styles.coin__img} />\r\n      <p className={styles.coin__name}>{name}</p>\r\n      <p className={styles.coin__fullname}>{fullname}</p>\r\n      <p className={styles.coin__price}>{price}</p>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Coin;","import React, { useState } from 'react';\r\nimport { IData, ISetData } from '../../../types/types';\r\nimport styles from \"./style.module.scss\";\r\nimport Arrow from \"../../../images/arrow.png\";\r\n\r\ntype Props = {\r\n  data: IData[],\r\n  setData: (data: IData[]) => ISetData\r\n}\r\n\r\nconst TopBar: React.FC<Props> = ({ data, setData }) => {\r\n  const [isSorted, setSorted] = useState<boolean>(false);\r\n\r\n  const sortCoins = () => {\r\n    data.sort((a: any, b: any) => {\r\n      const priceA = a.price.substring(2).replace(',', '');\r\n      const priceB = b.price.substring(2).replace(',', '');\r\n      return isSorted ? priceA - priceB : priceB - priceA;\r\n    })\r\n    setSorted(!isSorted);\r\n    const sortedData: IData[] = [...data];\r\n    setData(sortedData);\r\n  }\r\n\r\n  return (\r\n    <div className={styles.topbar}>\r\n      <div className={styles.topbar__name}>Name</div>\r\n      <div className={styles.topbar__fullname}>FullName</div>\r\n      <div className={styles.topbar__price} onClick={sortCoins}>Price <img className={isSorted ? styles.sorted : ''} src={Arrow} alt=\"arrow\" /></div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default TopBar;","import React, { useEffect, useRef, useState } from \"react\";\r\nimport styles from \"./style.module.scss\";\r\nimport { IData } from './../../types/types';\r\n\r\ntype CalculatorProps = {\r\n  data: IData[]\r\n}\r\n\r\nconst Calculator: React.FC<CalculatorProps> = ({ data }) => {\r\n  const select1 = useRef<HTMLSelectElement | null>(null);\r\n  const select2 = useRef<HTMLSelectElement | null>(null);\r\n  const [result, setResult] = useState<string>('');\r\n\r\n  const updateCount = () => {\r\n    const select1Value: string = select1.current!.options[select1.current!.selectedIndex].value;\r\n    const select2Value: string = select2.current!.options[select2.current!.selectedIndex].value;\r\n    let select1Price: any;\r\n    let select2Price: any;\r\n    for (let coin of data) {\r\n      if ((coin.name !== select1Value) && (coin.name !== select2Value)) continue;\r\n      const price = coin.price.substring(2).replace(',', '');\r\n      coin.name === select1Value ? select1Price = +price : select2Price = +price;\r\n    }\r\n    let newResult: Partial<string>;\r\n    if (!select2Price) {\r\n      const usdPrice: IData[] = data.filter(coin => coin.name === select1Value);\r\n      newResult = `${select1Value} = ${usdPrice[0].price} USD`;\r\n    } else {\r\n      newResult = `${select1Value} = ${(select1Price! / select2Price).toFixed(3)} ${select2Value} `;\r\n    }\r\n    setResult(newResult)\r\n  }\r\n\r\n  useEffect(updateCount, []);\r\n\r\n  return (\r\n    <div className={styles.calculator}>\r\n      <p className={styles.calculator__display}>{result}</p>\r\n      <select className={styles.calculator__select1} onChange={updateCount} ref={select1}>\r\n        {\r\n          data.map(({ name }) => <option value={name} key={name}>{name}</option>)\r\n        }\r\n      </select>\r\n      <select className={styles.calculator__select2} onChange={updateCount} ref={select2}>\r\n        <option>USD</option>\r\n        {\r\n          data.map(({ name }) => <option value={name} key={name}>{name}</option>)\r\n        }\r\n      </select>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Calculator;","import React from 'react';\r\nimport styles from './styles.module.scss';\r\n\r\nexport default () => <div className={styles.loading}></div>;","import React, { useEffect, useRef } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators, Dispatch } from \"redux\";\r\nimport { loadCryptoData, setData } from \"../../actions/actionCreator\";\r\nimport { RootState } from \"../../reducers\";\r\nimport Coin from \"./Coin\";\r\nimport TopBar from './TopBar';\r\nimport Calculator from '../Calculator';\r\nimport Loading from './Loading';\r\nimport styles from \"./style.module.scss\";\r\nimport { IData } from './../../types/types';\r\n\r\ntype CryptoAreaProps = ReturnType<typeof mapStateToProps> &\r\n    ReturnType<typeof mapDispatchToProps>;\r\n\r\nconst CryptoArea: React.FC<CryptoAreaProps> = ({ loadCryptoData, data, setData }) => {\r\n    const updateCrypto = useRef<ReturnType<typeof setInterval> | null>(null);\r\n\r\n    useEffect(() => {\r\n\r\n        loadCryptoData();\r\n        updateCrypto.current = setInterval(() => {\r\n            setData(null);\r\n            loadCryptoData();\r\n        }, 60000)\r\n\r\n        return () => {\r\n            clearInterval(updateCrypto.current as any);\r\n        }\r\n    }, []);\r\n\r\n    return (\r\n        <>\r\n            <div className={styles.area}>\r\n                {data ? <><TopBar data={data} setData={setData} />\r\n                    {\r\n                        data.map((coinInfo: IData) => <Coin key={coinInfo.name} coinInfo={coinInfo} />)\r\n                    }</> : <Loading />}\r\n            </div>\r\n            {data && <Calculator data={data} />}\r\n        </>\r\n    );\r\n}\r\n\r\nconst mapStateToProps = ({ cryptoArea: { data } }: RootState) => {\r\n    return {\r\n        data\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch: Dispatch) => bindActionCreators(\r\n    {\r\n        loadCryptoData,\r\n        setData\r\n    },\r\n    dispatch\r\n);\r\n\r\nexport default connect(\r\n    mapStateToProps,\r\n    mapDispatchToProps\r\n)(React.memo(CryptoArea));","import React from 'react';\r\nimport CryptoArea from './components/CryptoArea/';\r\nimport \"./styles.scss\";\r\n\r\nconst App = () => (\r\n  <>\r\n    <CryptoArea />\r\n  </>\r\n);\r\n\r\nexport default App;\r\n","import { CryptoAreaTypes } from '../types/action-strings';\r\nimport { CryptoAreaActionTypes } from '../types/types';\r\nimport { IData } from './../types/types';\r\n\r\ninterface IState {\r\n  data: null | IData[]\r\n}\r\n\r\nconst initialState: IState = {\r\n  data: null,\r\n};\r\n\r\nconst cryptoArea = (state: IState = initialState, { type, payload }: CryptoAreaActionTypes): IState => {\r\n  switch (type) {\r\n    case CryptoAreaTypes.SET_DATA:\r\n      return {\r\n        ...state,\r\n        data: payload\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default cryptoArea;\r\n","import { combineReducers } from 'redux';\r\nimport cryptoArea from './cryptoArea';\r\n\r\nconst rootReducer = combineReducers({ cryptoArea });\r\n\r\nexport default rootReducer;\r\nexport type RootState = ReturnType<typeof rootReducer>;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Provider } from 'react-redux';\r\nimport App from './App';\r\nimport store from './store';\r\n\r\nReactDOM.render((\r\n  <Provider store={store}>\r\n    <App />\r\n  </Provider>\r\n), document.getElementById('root'));","// extracted by mini-css-extract-plugin\nmodule.exports = {\"topbar\":\"style_topbar__1ozJh\",\"topbar__name\":\"style_topbar__name__1YtVQ\",\"topbar__fullname\":\"style_topbar__fullname__10W17\",\"topbar__price\":\"style_topbar__price__CoAjI\",\"sorted\":\"style_sorted__29ugY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"calculator\":\"style_calculator__37pOS\",\"calculator__display\":\"style_calculator__display__1NzZE\",\"calculator__select1\":\"style_calculator__select1__2PVAF\",\"calculator__select2\":\"style_calculator__select2__gbPEr\"};"],"sourceRoot":""}